

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sources (scarlet.source) &mdash; scarlet  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Resampling (scarlet.resampling)" href="resampling.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> scarlet
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_docs.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api_docs.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="bbox.html">Bounding Boxes (<code class="docutils literal notranslate"><span class="pre">scarlet.bbox</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="blend.html">Blend (<code class="docutils literal notranslate"><span class="pre">scarlet.blend</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="cache.html">Cache (<code class="docutils literal notranslate"><span class="pre">scarlet.cache</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="component.html">Components (<code class="docutils literal notranslate"><span class="pre">scarlet.component</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="display.html">Visualization (<code class="docutils literal notranslate"><span class="pre">scarlet.display</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="interpolation.html">Interpolation (<code class="docutils literal notranslate"><span class="pre">scarlet.interpolation</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="observation.html">Observations and Scenes (<code class="docutils literal notranslate"><span class="pre">scarlet.observation</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="operator.html">Proximal Operators (<code class="docutils literal notranslate"><span class="pre">scarlet.operator</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="psf.html">PSF matching (<code class="docutils literal notranslate"><span class="pre">scarlet.psf</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="resampling.html">Resampling (<code class="docutils literal notranslate"><span class="pre">scarlet.resampling</span></code>)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Sources (<code class="docutils literal notranslate"><span class="pre">scarlet.source</span></code>)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-scarlet.source">Reference/API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="update.html">Update (<code class="docutils literal notranslate"><span class="pre">scarlet.update</span></code>)</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">scarlet</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="api_docs.html">API Documentation</a> &raquo;</li>
        
      <li>Sources (<code class="docutils literal notranslate"><span class="pre">scarlet.source</span></code>)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/source.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Sources-(scarlet.source)">
<h1>Sources (<a class="reference internal" href="#"><span class="doc">scarlet.source</span></a>)<a class="headerlink" href="#Sources-(scarlet.source)" title="Permalink to this headline">¶</a></h1>
<p>It is recommended to initialize sources by inheriting from the <a class="reference internal" href="component.html#scarlet.component.Component"><span class="std std-ref">Component</span></a> class and overwriting the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> and <code class="docutils literal notranslate"><span class="pre">update</span></code> methods to initialize and constrain sources respectively.</p>
<p>In general, neither the SED nor the morphology are known ahead of time so <em>scarlet</em> offers a set of convenience classes, to generate an initial morphology and SED for a source at a given location in the image: * <a class="reference external" href="#scarlet.source.PointSource">PointSource</a> * <a class="reference external" href="#scarlet.source.ExtendedSource">ExtendedSource</a> * <a class="reference external" href="#scarlet.source.MultiComponentSource">MultiComponentSource</a></p>
<div class="section" id="module-scarlet.source">
<span id="Reference/API"></span><h2>Reference/API<a class="headerlink" href="#module-scarlet.source" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="scarlet.source.CombinedExtendedSource">
<em class="property">class </em><code class="descclassname">scarlet.source.</code><code class="descname">CombinedExtendedSource</code><span class="sig-paren">(</span><em>frame</em>, <em>sky_coord</em>, <em>observations</em>, <em>bg_rms</em>, <em>obs_idx=0</em>, <em>thresh=1</em>, <em>symmetric=False</em>, <em>monotonic=True</em>, <em>center_step=5</em>, <em>delay_thresh=0</em>, <em>**component_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#CombinedExtendedSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.CombinedExtendedSource" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">coord</span></code></dt>
<dd><p class="first last">The coordinate in a <cite>~scarlet.component.ComponentTree</cite>.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">frame</span></code></dt>
<dd><p class="first last">The frame of this component</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">morph</span></code></dt>
<dd><p class="first last">Numpy view of the component morphology</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">sed</span></code></dt>
<dd><p class="first last">Numpy view of the component SED</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></dt>
<dd><p class="first last">Shape of the image (Channel, Height, Width)</p>
</dd>
<dt><strong>step_morph</strong></dt>
<dd></dd>
<dt><strong>step_sed</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">backward_prior</span></code>()</td>
<td>Use the prior to update the gradient</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flux</span></code>()</td>
<td>Get flux in every band</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model</span></code>([sed,&nbsp;morph])</td>
<td>Get the model for this component.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>()</td>
<td>Default update parameters for an ExtendedSource</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="scarlet.source.ExtendedSource">
<em class="property">class </em><code class="descclassname">scarlet.source.</code><code class="descname">ExtendedSource</code><span class="sig-paren">(</span><em>frame</em>, <em>sky_coord</em>, <em>observation</em>, <em>bg_rms</em>, <em>thresh=1</em>, <em>symmetric=True</em>, <em>monotonic=True</em>, <em>center_step=5</em>, <em>delay_thresh=10</em>, <em>**component_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#ExtendedSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.ExtendedSource" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">coord</span></code></dt>
<dd><p class="first last">The coordinate in a <cite>~scarlet.component.ComponentTree</cite>.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">frame</span></code></dt>
<dd><p class="first last">The frame of this component</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">morph</span></code></dt>
<dd><p class="first last">Numpy view of the component morphology</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">sed</span></code></dt>
<dd><p class="first last">Numpy view of the component SED</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></dt>
<dd><p class="first last">Shape of the image (Channel, Height, Width)</p>
</dd>
<dt><strong>step_morph</strong></dt>
<dd></dd>
<dt><strong>step_sed</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">backward_prior</span></code>()</td>
<td>Use the prior to update the gradient</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flux</span></code>()</td>
<td>Get flux in every band</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model</span></code>([sed,&nbsp;morph])</td>
<td>Get the model for this component.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>()</td>
<td>Default update parameters for an ExtendedSource</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="scarlet.source.MultiComponentSource">
<em class="property">class </em><code class="descclassname">scarlet.source.</code><code class="descname">MultiComponentSource</code><span class="sig-paren">(</span><em>frame</em>, <em>sky_coord</em>, <em>observation</em>, <em>bg_rms</em>, <em>thresh=1</em>, <em>flux_percentiles=None</em>, <em>symmetric=True</em>, <em>monotonic=True</em>, <em>center_step=5</em>, <em>delay_thresh=10</em>, <em>**component_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#MultiComponentSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.MultiComponentSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Extended source with multiple components layered vertically.</p>
<p>Uses <cite>~scarlet.source.ExtendedSource</cite> to define the overall morphology,
then erodes the outer footprint until it reaches the specified size percentile.
For the narrower footprint, it evaluates the mean value at the perimeter and
sets the inside to the perimeter value, creating a flat distribution inside.
The subsequent component(s) is/are set to the difference between the flattened
and the overall morphology.
The SED for all components is calculated as the best fit of the multi-component
morphology to the multi-channel image in the region of the source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">K</span></code></dt>
<dd><p class="first last">Number of components.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">components</span></code></dt>
<dd><p class="first last">Flattened tuple of all components in the tree.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">coord</span></code></dt>
<dd><p class="first last">The coordinate in tree.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">frame</span></code></dt>
<dd><p class="first last">Frame of the components.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_components</span></code></dt>
<dd><p class="first last">Number of components.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_sources</span></code></dt>
<dd><p class="first last">Number of initial sources or components.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">sources</span></code></dt>
<dd><p class="first last">Initial list of components or sources that generate the tree.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flux</span></code>()</td>
<td>Get the total flux for all the components in the tree</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model</span></code>([seds,&nbsp;morphs])</td>
<td>Get the model this component tree</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#scarlet.source.MultiComponentSource.update" title="scarlet.source.MultiComponentSource.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>()</td>
<td>Update each component</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="scarlet.source.MultiComponentSource.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#MultiComponentSource.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.MultiComponentSource.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update each component</p>
<p>This method may be overwritten in inherited classes to
perform updates on multiple components at once
(for example separating a buldge and disk).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="scarlet.source.PointSource">
<em class="property">class </em><code class="descclassname">scarlet.source.</code><code class="descname">PointSource</code><span class="sig-paren">(</span><em>frame</em>, <em>sky_coord</em>, <em>observation</em>, <em>symmetric=True</em>, <em>monotonic=True</em>, <em>center_step=5</em>, <em>delay_thresh=10</em>, <em>**component_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#PointSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.PointSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Source intialized with a single pixel</p>
<p>Point sources are initialized with the SED of the center pixel,
and the morphology of a single pixel (the center) turned on.
While the source can have any <cite>constraints</cite>, the default constraints are
symmetry and monotonicity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">coord</span></code></dt>
<dd><p class="first last">The coordinate in a <cite>~scarlet.component.ComponentTree</cite>.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">frame</span></code></dt>
<dd><p class="first last">The frame of this component</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">morph</span></code></dt>
<dd><p class="first last">Numpy view of the component morphology</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">sed</span></code></dt>
<dd><p class="first last">Numpy view of the component SED</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></dt>
<dd><p class="first last">Shape of the image (Channel, Height, Width)</p>
</dd>
<dt><strong>step_morph</strong></dt>
<dd></dd>
<dt><strong>step_sed</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">backward_prior</span></code>()</td>
<td>Use the prior to update the gradient</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flux</span></code>()</td>
<td>Get flux in every band</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model</span></code>([sed,&nbsp;morph])</td>
<td>Get the model for this component.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#scarlet.source.PointSource.update" title="scarlet.source.PointSource.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>()</td>
<td>Default update parameters for an ExtendedSource</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="scarlet.source.PointSource.update">
<code class="descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#PointSource.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.PointSource.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Default update parameters for an ExtendedSource</p>
<p>This method can be overwritten if a different set of constraints
or update functions is desired.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="scarlet.source.RandomSource">
<em class="property">class </em><code class="descclassname">scarlet.source.</code><code class="descname">RandomSource</code><span class="sig-paren">(</span><em>frame</em>, <em>observation=None</em>, <em>**component_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#RandomSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.RandomSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Sources with uniform random morphology.</p>
<p>For cases with no well-defined spatial shape, this source initializes
a uniform random field and (optionally) matches the SED to match a given
observation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">coord</span></code></dt>
<dd><p class="first last">The coordinate in a <cite>~scarlet.component.ComponentTree</cite>.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">frame</span></code></dt>
<dd><p class="first last">The frame of this component</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">morph</span></code></dt>
<dd><p class="first last">Numpy view of the component morphology</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">sed</span></code></dt>
<dd><p class="first last">Numpy view of the component SED</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">shape</span></code></dt>
<dd><p class="first last">Shape of the image (Channel, Height, Width)</p>
</dd>
<dt><strong>step_morph</strong></dt>
<dd></dd>
<dt><strong>step_sed</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">backward_prior</span></code>()</td>
<td>Use the prior to update the gradient</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_flux</span></code>()</td>
<td>Get flux in every band</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_model</span></code>([sed,&nbsp;morph])</td>
<td>Get the model for this component.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code>()</td>
<td>Update the component</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="exception">
<dt id="scarlet.source.SourceInitError">
<em class="property">exception </em><code class="descclassname">scarlet.source.</code><code class="descname">SourceInitError</code><a class="reference internal" href="_modules/scarlet/source.html#SourceInitError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.SourceInitError" title="Permalink to this definition">¶</a></dt>
<dd><p>Error during source initialization</p>
</dd></dl>

<dl class="function">
<dt id="scarlet.source.build_detection_coadd">
<code class="descclassname">scarlet.source.</code><code class="descname">build_detection_coadd</code><span class="sig-paren">(</span><em>sed</em>, <em>bg_rms</em>, <em>observation</em>, <em>thresh=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#build_detection_coadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.build_detection_coadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a channel weighted coadd to use for source detection</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>sed: array</strong></dt>
<dd><p class="first last">SED at the center of the source.</p>
</dd>
<dt><strong>bg_rms: array</strong></dt>
<dd><p class="first last">Background RMS in each channel in observation.</p>
</dd>
<dt><strong>observation: `~scarlet.observation.Observation`</strong></dt>
<dd><p class="first last">Observation to use for the coadd.</p>
</dd>
<dt><strong>thresh: `float`</strong></dt>
<dd><p class="first last">Multiple of the backround RMS used as a
flux cutoff.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>detect: array</strong></dt>
<dd><p class="first last">2D image created by weighting all of the channels by SED</p>
</dd>
<dt><strong>bg_cutoff: float</strong></dt>
<dd><p class="first last">The minimum value in <cite>detect</cite> to include in detection.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="scarlet.source.get_best_fit_seds">
<code class="descclassname">scarlet.source.</code><code class="descname">get_best_fit_seds</code><span class="sig-paren">(</span><em>morphs</em>, <em>frame</em>, <em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#get_best_fit_seds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.get_best_fit_seds" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate best fitting SED for multiple components.</p>
<p>Solves min_A ||img - AS||^2 for the SED matrix A,
assuming that the images only contain a single source.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>morphs: list</strong></dt>
<dd><p class="first last">Morphology for each component in the source.</p>
</dd>
<dt><strong>frame: `scarlet.observation.frame`</strong></dt>
<dd><p class="first last">The frame of the model</p>
</dd>
<dt><strong>observation: `~scarlet.Observation`</strong></dt>
<dd><p class="first last">Observation to extract SEDs from.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>SED: `~numpy.array`</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="scarlet.source.get_pixel_sed">
<code class="descclassname">scarlet.source.</code><code class="descname">get_pixel_sed</code><span class="sig-paren">(</span><em>sky_coord</em>, <em>observation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#get_pixel_sed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.get_pixel_sed" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the SED at <cite>sky_coord</cite> in <cite>observation</cite></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>sky_coord: tuple</strong></dt>
<dd><p class="first last">Position in the observation</p>
</dd>
<dt><strong>observation: `~scarlet.Observation`</strong></dt>
<dd><p class="first last">Observation to extract SED from.</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>SED: `~numpy.array`</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="scarlet.source.get_psf_sed">
<code class="descclassname">scarlet.source.</code><code class="descname">get_psf_sed</code><span class="sig-paren">(</span><em>sky_coord</em>, <em>observation</em>, <em>frame</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#get_psf_sed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.get_psf_sed" title="Permalink to this definition">¶</a></dt>
<dd><p>Get SED for a point source at <cite>sky_coord</cite> in <cite>observation</cite></p>
<p>Identical to <cite>get_pixel_sed</cite>, but corrects for the different
peak values of the observed seds to approximately correct for PSF
width variations between channels.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>sky_coord: tuple</strong></dt>
<dd><p class="first last">Position in the observation</p>
</dd>
<dt><strong>observation: `~scarlet.Observation`</strong></dt>
<dd><p class="first last">Observation to extract SED from.</p>
</dd>
<dt><strong>frame: `~scarlet.Frame`</strong></dt>
<dd><p class="first last">Frame of the model</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>SED: `~numpy.array`</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="scarlet.source.init_combined_extended_source">
<code class="descclassname">scarlet.source.</code><code class="descname">init_combined_extended_source</code><span class="sig-paren">(</span><em>sky_coord</em>, <em>frame</em>, <em>observations</em>, <em>bg_rms</em>, <em>obs_idx=0</em>, <em>thresh=1.0</em>, <em>symmetric=True</em>, <em>monotonic=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#init_combined_extended_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.init_combined_extended_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the source that is symmetric and monotonic
See <cite>ExtendedSource</cite> for a description of the parameters</p>
</dd></dl>

<dl class="function">
<dt id="scarlet.source.init_extended_source">
<code class="descclassname">scarlet.source.</code><code class="descname">init_extended_source</code><span class="sig-paren">(</span><em>sky_coord</em>, <em>frame</em>, <em>observation</em>, <em>bg_rms</em>, <em>thresh=1.0</em>, <em>symmetric=True</em>, <em>monotonic=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#init_extended_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.init_extended_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the source that is symmetric and monotonic
See <cite>ExtendedSource</cite> for a description of the parameters</p>
</dd></dl>

<dl class="function">
<dt id="scarlet.source.init_multicomponent_source">
<code class="descclassname">scarlet.source.</code><code class="descname">init_multicomponent_source</code><span class="sig-paren">(</span><em>sky_coord</em>, <em>frame</em>, <em>observation</em>, <em>bg_rms</em>, <em>flux_percentiles=None</em>, <em>thresh=1.0</em>, <em>symmetric=True</em>, <em>monotonic=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scarlet/source.html#init_multicomponent_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scarlet.source.init_multicomponent_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize multiple components
See <cite>MultiComponentSource</cite> for a description of the parameters</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="resampling.html" class="btn btn-neutral" title="Resampling (scarlet.resampling)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Fred Moolekamp and Peter Melchior

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>